<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sa Fusi√≥ By Nurestic - Gesti√≥n de Citas</title>
    <link rel="stylesheet" href="styles.css">
    <link
        href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600&family=Playfair+Display:wght@400;700&display=swap"
        rel="stylesheet">
</head>

<body>
    <div class="background-blobs">
        <div class="blob blob-1"></div>
        <div class="blob blob-2"></div>
    </div>

    <div class="app-container">
        <header>
            <div class="logo-container">
                <img src="logo.jpg" alt="Sa Fusi√≥ By Nurestic Logo" class="app-logo">
            </div>
            <h1 class="app-title">Gesti√≥n de Citas & WhatsApp</h1>
        </header>

        <main>
            <section class="controls-card glass-panel">
                <!-- Bot√≥n de ayuda destacado al inicio -->
                <div class="help-action-container">
                    <button id="helpBtn" class="secondary-btn">‚ùì Ayuda: ¬øC√≥mo exportar el archivo?</button>
                </div>

                <div class="input-group">
                    <div class="label-row">
                        <label for="icsFile">1. Cargar Archivo Calendario (.ics)</label>
                    </div>
                    <div class="file-upload-wrapper">
                        <input type="file" id="icsFile" accept=".ics">
                        <span class="file-custom-label">Seleccionar archivo...</span>
                    </div>
                </div>

                <div class="input-group">
                    <label for="dateSelect">2. Seleccionar Fecha</label>
                    <input type="date" id="dateSelect">
                </div>

                <div class="config-toggle">
                    <button id="toggleConfigBtn" class="secondary-btn">‚öôÔ∏è Configurar Mensaje</button>
                </div>

                <div id="configPanel" class="config-panel hidden">
                    <label for="messageTemplate">Plantilla del Mensaje:</label>
                    <textarea id="messageTemplate"
                        rows="4">Le recordamos que tiene cita con nuestro equipo de Sa Fusi√≥ By Nurestic: {fecha} a las {hora}.</textarea>
                    <div class="config-footer">
                        <p class="help-text">Variables: {fecha}, {hora}</p>
                        <button id="saveConfigBtn" class="action-btn">Guardar Cambios üíæ</button>
                    </div>
                </div>
            </section>

            <!-- Nueva Secci√≥n de Env√≠o Manual -->
            <section class="manual-card glass-panel">
                <div class="manual-header">
                    <h3>üöÄ Env√≠o Manual R√°pido</h3>
                    <button id="toggleManualBtn" class="secondary-btn">Mostrar/Ocultar</button>
                </div>
                <div id="manualPanel" class="manual-panel hidden">
                    <div class="input-group">
                        <label for="manualPhone">Tel√©fono (con prefijo si es extranjero):</label>
                        <input type="text" id="manualPhone" placeholder="Ej: 612345678">
                    </div>
                    <div class="input-group">
                        <label for="manualMessage">Mensaje:</label>
                        <textarea id="manualMessage" rows="3" placeholder="Escribe tu mensaje aqu√≠..."></textarea>
                    </div>
                    <div style="text-align: right;">
                        <a href="#" id="manualSendBtn" target="_blank" class="whatsapp-btn disabled">Enviar WhatsApp
                            üöÄ</a>
                    </div>
                </div>
            </section>

            <section id="resultsSection" class="results-section hidden">
                <div class="results-header">
                    <h2>Citas Encontradas <span id="eventCount" class="badge">0</span></h2>
                    <button id="selectAllBtn" class="text-btn">Seleccionar Todo</button>
                </div>
                <div id="eventsList" class="events-list">
                    <!-- Los eventos se generar√°n aqu√≠ -->
                </div>
            </section>
        </main>

        <footer>
            <p class="credits">Ideada por Juanjo Vivas</p>
        </footer>
    </div>

    <!-- Modal de Ayuda -->
    <div id="helpModal" class="modal hidden">
        <div class="modal-content glass-panel">
            <button class="close-modal-top">&times;</button>
            <h3>C√≥mo exportar tu calendario</h3>
            <ol>
                <li>Abre <strong>Google Calendar</strong> en tu ordenador.</li>
                <li>En la parte superior derecha, haz clic en la rueda dentada ‚öôÔ∏è y luego en
                    <strong>Configuraci√≥n</strong>.</li>
                <li>En el men√∫ de la izquierda, haz clic en <strong>Importar y exportar</strong>.</li>
                <li>Haz clic en <strong>Exportar</strong>.</li>
                <li>Se descargar√° un archivo ZIP. √Åbrelo y extrae el archivo que termina en <strong>.ics</strong>.</li>
                <li>¬°Ese es el archivo que debes subir aqu√≠!</li>
            </ol>
            <div class="modal-actions">
                <a href="https://calendar.google.com" target="_blank" class="action-btn">Ir a Google Calendar ‚ÜóÔ∏è</a>
                <button class="secondary-btn close-modal-bottom">Cerrar</button>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>

</html>